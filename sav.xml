<?xml version="1.0" encoding="utf-8"?> 
<openerp>
  <data>      
      <record model="ir.ui.view" id="crm_test_view">
            <field name="name">crm.claim.form</field>
            <field name="model">crm.claim</field>
            <field name="type">form</field>
	        <field name="inherit_id" ref="crm_claim.crm_case_claims_form_view" />
	        <field name="arch" type="xml">
	        
	            <xpath expr="/form//button[@name='case_close']" position="replace">
			           <button name="case_close" string="Settle" type="object" class="oe_highlight"
                            states="draft,open,pending" groups="sav.group_sav_manager"/>
			    </xpath>
			    <xpath expr="/form//button[@name='case_cancel']" position="replace">
			           <button name="case_cancel" string="Reject" type="object" groups="sav.group_sav_manager"
                            states="draft,open,pending"/>
			    </xpath>
			    <xpath expr="/form//field[@name='stage_id']" position="replace">
			           <field name="stage_id" widget="statusbar" clickable="False" groups="sav.group_sav_manager"/>
			    </xpath>
			    
	           <field name="name" position="before">
			       <field name="n_reclamation"/>
			       <field name="num_facture"/>
			       <field name="reference"/>
			       <field name="klm"/>

			       <field name="selection"/>
			       <field name="cde_piece"/>
			       <field name="administratif"/>

		       </field>
		       
		      
			       
	                <page string="Claim Description" position="replace" >
	                 <page string="Claim Description">
                        <group colspan="2" col="2" groups="sav.group_sav_manager">
                           <separator colspan="2" string="Claim Reporter"/>
                           <field name="partner_id" string="Partner" on_change="onchange_partner_id(partner_id)"/>
                           <field name="partner_phone"/>
                           <field name="email_from" widget="email"/>
                        </group>
                       <group colspan="2" col="2" groups="base.group_user">
                        <separator colspan="2" string="information client"/>
                        <field name="partner_id1" string="Client" on_change="onchange_partner_id1(partner_id1)"/>
                        <field name="partner_phone1"/>
                        <field name="street01"/>
                        <field name="city1" string="Ville client"/>
        	          </group>  
        	        
                  <group colspan="2" col="2" groups="sav.group_sav_manager">
                        <separator colspan="2" string="information Distributeur"/>
                        <field name="partner_id2" string="Distributeur" on_change="onchange_partner_id2(partner_id2)"/>
                        <field name="partner_phone2"/>
                  </group>
                  
		          <group colspan="2" col="2" groups="sav.group_sav_manager">
                        <separator colspan="2" string="information Revendeur"/>
                        <field name="partner_id3" string="Revendeur" on_change="onchange_partner3(partner_id3)"/>
                        <field name="partner_phone3"/>
                </group>

 		       <group colspan="2" col="2" >
                        <separator colspan="2" string="information Produit"/>
                        <field name="produit" />
                        <field name="Marque" />
			            <field name="Modele" />
			            <field name="Serial" />
			            <field name="date_achat" />
			            <field name="Desc" />
		                <field name="File_upload" />
 		       </group>
               <group colspan="2" col="2" groups="base.group_user">
                       <separator colspan="2" string="Responsibilities"/>
                       <field name="user_fault"/>
                       <field name="categ_id" widget="selection" domain="[('object_id.model', '=', 'crm.claim')]"/>
                       <field name="ref"/>
               </group>
               <separator colspan="4" string="Claim/Action Description" groups="base.group_user"/>
               <field name="description" colspan="4" nolabel="1"/>
             </page>
	         </page>        
	         <page string="Follow Up" position="replace" >
	          <page string="Follow Up" groups="sav.group_sav_manager">
                  <group>
                    <group>
                     <separator colspan="2" string="Actions"/>
                     <field name="date_action_next"/>
                     <field name="action_next"/>
                     </group>
                    <group groups="base.group_no_one">
                     <separator colspan="2" string="Dates"/>
                      <field name="create_date"/>
                      <field name="date_closed"/>
                      <field name="write_date"/>
                        </group>
						</group>
                       <group colspan="2" col="2">
                       <separator colspan="2" string="Root Causes"/>
                        <field name="cause" colspan="2" nolabel="1"/>
                        </group>
                        <group colspan="2" col="2">
                         <separator colspan="2" string="Resolution Actions"/>
                         <field name="type_action"/>
                         <field name="resolution" colspan="2" nolabel="1"/>
                        </group>
                  </page>
                        
                  <page string="Pieces de Rechonge" groups="sav.group_sav_manager">
		                <field name="product_ids" nolabel="1" />
	              </page>
	                	
	              <page string="Le Suivi-1" groups="sav.group_sav_manager">
		                <field name="follow_ids" nolabel="1" >
		                   <tree editable="bottom">
		                     <field name="date"/>
		                     <field name="description"/>      
		                   </tree>
		                   </field>
	              </page>
	            </page>
	               
	          </field>
	          
	   </record>
	   
      <!-- tree view -->
      
   <!--    <record  id="sav_tree_view" model="ir.ui.view">
            <field name="name">CRM - Claims Form</field>
            <field name="model">crm.claim</field>		
            <field name="inherit_id" ref="crm_claim.crm_case_claims_tree_view" />
            <field name="type">tree</field>
		    <field name="arch" type="xml">
               <field name="name" position="before" colors="blue:state == 'done';gray:state == 'cancel'">
			   <field name="n_reclamation" string="N recl"/>
			   <field name="partner_id1"/>
			   <field name="partner_phone1"/>
			   <field name="street01"/>
			   <field name="produit"/>
			   <field name="Serial"/>
			   <field name="date_achat"/>
		      </field>
            </field>
        </record>  -->
        
                 
<!-- Claims    -->

        <record model="ir.ui.view" id="crm_case_claims_tree_view">
            <field name="name">CRM - Claims Tree</field>
            <field name="model">crm.claim</field>
            <field name="arch" type="xml">
                <tree string="Claims" colors="green:state == 'done';gray:state == 'cancel';blue:state=='pending' and not(date_deadline and (date_deadline &lt; current_date));red:date_deadline and (date_deadline &lt; current_date)">
                    <field name="n_reclamation" string="N recl"/>
			        <field name="partner_id1"/>
			        <field name="partner_phone1"/>
			        <field name="street01"/>
			        <field name="produit"/>
			        <field name="Serial"/>
			        <field name="date_achat"/>
                    <field name="name"/>
                    <field name="partner_id"/>
                    <field name="user_id"/>
                    <field name="date"/>
                    <field name="stage_id"/>
                    <field name="date_action_next"/>
                    <field name="action_next"/>
                    <field name="categ_id" string="Type"/>
                    <field name="date_deadline" invisible="1"/>
                    <field name="date_closed" invisible="1"/>
                    <field name="state" groups="base.group_no_one"/>
                </tree>
            </field>
        </record>
        
        <record model="ir.actions.act_window" id="crm_case_categ_claim1">
            <field name="name">Claims</field>
            <field name="res_model">crm.claim</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,calendar,form</field>
            <field name="view_id" ref="crm_case_claims_tree_view"/>
            <field name="domain" >[('state','in',('draft', 'open'))]</field>
            <field name="context">{"search_default_user_id":uid, "stage_type":'claim'}</field>
            <field name="search_view_id" ref="crm_claim.view_crm_case_claims_filter"/>
            <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                Record and track your customers' claims. Claims may be linked to a sales order or a lot.You can send emails with attachments and keep the full history for a claim (emails sent, intervention type and so on).Claims may automatically be linked to an email address using the mail gateway module.
            </p>
            </field>
        </record>
        
       <!-- product brand form -->
	   
	   <record id="marque_view_form" model="ir.ui.view">
        <field name="name">product.marque.form</field>
        <field name="model">product.marque</field>
        <field name="arch" type="xml">
           <form string="Produit" version="7.0">
                    <sheet>
                      <group>
		                	<group>
				                <field name="marque_produit" />
				            </group>
			                <group>	
			                	<field name="code" />
			                </group>
		               </group>
                    <newline/>
	                	<group colspan="2" string="Description"  >
	                		<field name="description" nolabel="1" />
	                	</group>
                    </sheet>
                </form>
		  </field>
    </record>  
    
    <!-- product brand tree -->
    
    <record id="view_marque_tree" model="ir.ui.view">
            <field name="name">product.marque.tree</field>
            <field name="model">product.marque</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Marque Produit">
                    <field name="marque_produit" />
                    <field name="code" />
                </tree>
            </field>
        </record>
        
       <!-- product brand action -->
        
       <record id="action_view_marque" model="ir.actions.act_window">
            <field name="name">Marque </field>
            <field name="res_model">product.marque</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
  
             
   </data> 
</openerp>
